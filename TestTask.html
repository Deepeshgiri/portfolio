<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plot X Y</title>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div style="border: 5px solid brown;padding: 10px;margin-bottom: 10px;">
        <canvas id="myChartX" width="400" height="400"></canvas>
    </div>
    <div style="border: 5px solid black;">
        <canvas id="myChartY" width="400" height="400"></canvas>
    </div>
  
  

  <script>
    // Fetching data from URLs
    async function fetchData() {
      const xResponse = await fetch("https://retoolapi.dev/gDa8uC/data");
      const yResponse = await fetch("https://retoolapi.dev/o5zMs5/data");

      const xjson = (await xResponse.json()).slice(0, 50); // Extracting first 50 values
      const yjson = (await yResponse.json()).slice(0, 50); // Extracting first 50 values

      return {  xjson, yjson }; 
    }

    // Plotting the data
    async function plotDataX() {
      const { xjson, yjson } = await fetchData();
      
      const xData = xjson.map((id)=>id.RandomNumber);
      const yData= yjson.map((id)=>id.RandomNumber)
      const xDatalabel = xjson.map((id)=>id.Label)

      const ctx = document.getElementById('myChartX').getContext('2d');
      const myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: xDatalabel,
          datasets: [{
            label: 'Y Axis',
            data: xData,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0
          }]
        },
        options: {
          scales: {
            x: {
              title: {
                display: true,
                text: 'X Axis'
              }
            },
            y: {
              title: {
                display: true,
                text: 'Y Axis'
              }
            }
          }
        }
      });
    }
    async function plotDataY() {
      const { xjson, yjson } = await fetchData();
      
      const xData = xjson.map((id)=>id.RandomNumber);
      const yData= yjson.map((id)=>id.RandomNumber)
      const yDatalabel = yjson.map((id)=>id.Label)

      const ctx = document.getElementById('myChartY').getContext('2d');
      const myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: yDatalabel,
          datasets: [{
            label: 'Y Axis',
            data: yData,
            borderColor: 'rgb(90, 12, 192)',
            tension: 0
          }]
        },
        options: {
          scales: {
            x: {
              title: {
                display: true,
                text: 'X Axis'
              }
            },
            y: {
              title: {
                display: true,
                text: 'Y Axis'
              }
            }
          }
        }
      });
    }

    plotDataX();
    plotDataY();
  </script>
</body>
</html>
